<!-- content/menu1.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- ... (다른 헤더 정보들) ... -->
    <style>
        /* 추가: 유튜브 영상을 감싸는 div의 스타일 */
        .youtube-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 비율을 유지하기 위한 값 */
        }

        /* 추가: 실제 유튜브 영상의 스타일 */
        .youtube-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
<div th:fragment="menuContent">
    <h2>Menu 1 Content</h2>

    <!-- 수정: 유튜브 API를 통해 동적으로 로드하는 부분 -->
    <div class="youtube-container" id="youtube-player"></div>

    <!-- 추가: 일기 작성 폼 -->
    <h3>Daily Diary</h3>
    <form th:action="@{/menu1/saveDiary}" method="post">
        <textarea name="diaryContent" rows="4" cols="50" placeholder="Write your daily diary..."></textarea>
        <br>
        <button type="submit">Save Diary</button>
    </form>

    <!-- 추가: 저장된 다이어리 목록 표시 -->
    <h3>Saved Diaries</h3>
    <ul>
        <li th:each="diary : ${userDiaries}">
            <span th:text="${diary.content}"></span>
            <span th:text="${diary.createdAt}"></span>
        </li>
    </ul>

    <!-- 유튜브 API 로드 스크립트 -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <!-- 유튜브 API 로드 후 실행할 스크립트 -->
    <script>
        var player;

        // 유튜브 API 로드 시 실행되는 콜백 함수
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '315',
                width: '560',
                videoId: 'PLbjzmdbGsE', // 수정: 실제 유튜브 동영상 ID로 변경
                playerVars: {
                    'autoplay': 1,
                    'controls': 0,
                    'showinfo': 0,
                    'rel': 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            // 동영상이 준비되면 실행할 작업
        }

        function onPlayerStateChange(event) {
            // 동영상 상태가 변경되면 실행할 작업
        }
    </script>
</div>
</body>
</html>